# 💎 行过滤、虚拟列、虚拟表单


# 虚拟列
:::info
**如果希望非数据库字段展示在页面上虚拟列则会派上用场**
**使用 @Transient 注解的字段，启动时不会自动生成数据库列，他只是一个UI展现方式，可用DataProxy填充虚拟列的值**
:::
```java
@Erupt(name = "虚拟列", dataProxy = VirtualDemo.class)
@Table(name = "virtual_demo")
@Entity
public class VirtualDemo extends BaseModel implements DataProxy<VirtualDemo> {

    //文本输入
    @EruptField(
            views = @View(title = "文本"),
            edit = @Edit(title = "文本")
    )
    private String field;
    
    
    @Transient
    @EruptField(
        views = @View(title = "虚拟列（非数据库字段）")
    )
    private String virtualColumn;
    
    @Override
    public void afterFetch(Collection<Map<String, Object>> list) {
        for (Map<String, Object> map : list) {
            map.put("virtualColumn", "自定义虚拟列值");
        }
    }
    
}
```


# 虚拟表单
:::info
**使用 @Transient 注解的字段，启动时不会自动生成数据库列，他只是一个表单展现方式，可用DataProxy填充虚拟表单的值**
:::
```java
@Erupt(name = "虚拟列", dataProxy = VirtualDemo.class)
@Table(name = "virtual_demo")
@Entity
@Setter
public class VirtualDemo extends BaseModel implements DataProxy<VirtualDemo> {

    @EruptField(
            views = @View(title = "文本"),
            edit = @Edit(title = "文本")
    )
    private String text;
    
    
    @Transient
    @EruptField(
        edit = @Edit(title = "虚拟表单")
    )
    private String virtualForm;

	
    @Override
    public void afterAdd(VirtualDemo virtualDemo) {
        //新增时填充到其他表单
        this.text = this.text + this.virtualForm
    }
    
    
}
```


# 行过滤
[数据过滤 @Filter](https://www.yuque.com/erupts/erupt/ukf1vr?view=doc_embed)


> 原文: <https://www.yuque.com/erupt/ebv9dg>