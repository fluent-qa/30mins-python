# ⚙️ 参数配置


## 后端配置（application.properties / application.yml）
```yaml
erupt-app:
  # 是否开启水印，1.12.0 及以上版本支持
  water-mark: true
	# 登录失败几次出现验证码，值为0时表示一直需要登录验证码
  verify-code-count: 2 
  # 登录密码是否加密传输，特殊场景如：LDAP登录可关闭该功能获取密码明文
  pwd-transfer-encrypt: true
  # 是否开启密码重置功能，关闭后前端会屏蔽所有重置密码的入口适用于 ldap 等场景，1.12.7 及以上版本支持
  reset-pwd: true
  # 多语言配置
  locales: [
     "zh-CN",      // 简体中文
     "zh-TW",      // 繁体中文
     "en-US",      // English
     "fr-FR",      // En français
     "ja-JP",      // 日本語
     "ko-KR",      // 한국어
     "ru-RU",      // русск
     "es-ES"       // español
   ]
  # 自定义登录页路径，1.10.6 及以上版本支持，支持http网络路径
  login-page-path: /customer-login.html
erupt:
	# 是否开启csrf防御
	csrf-inspect: true
  # 开启redis方式存储session，默认false，开启后需在配置文件中添加redis配置（同 Spring Boot）
  redis-session: false
  # redis session是否自动续期，1.10.8及以上版本支持
  redis-session-refresh: false
  # 附件上传存储路径, 默认路径为：/opt/erupt-attachment
  upload-path: D:/erupt/pictures
  # 是否保留上传文件原始名称
  keep-upload-file-name: false
  # 项目初始化方式，NONE 不执行初始化代码、EVERY 每次启动都进行初始化、FILE 通过标识文件判断是否需要初始化
  init-method-enum: file
  # 默认语言，1.12.3及以上版本支持
  default-locales: zh-CN
  upms:
    # 登录 session 时长（redisSession为true时有效）
    # redisSession 为 false 时控制有效期的方法：server.servlet.session.timeout
    expire-time-by-login: 60
    # 严格的角色菜单策略，如果非管理员用户拥有“角色管理权限”则仅能编辑已有权限的角色菜单
    strict-role-menu-legal: true
  # 是否开启任务调度（导入erupt-job时有效）
  job.enable: true
  # 是否记录操作日志，默认true，该功能开启后可在【系统管理 → 操作日志】中查看操作日志
  security.record-operate-log: true

# 当 erupt.redisSession 为 true 时必须配置此项！
spring:
  redis:
    database: 0
    timeout: 10000
    host: 127.0.0.1
```

## 前端配置（app.js）
文件需手动创建，位置：/resources/public/app.js
功能包括：基础参数配置，路由回调函数，全局生命周期函数等
```javascript
window.eruptSiteConfig = {
    //erupt接口地址，在前后端分离时指定
    domain: "",
    //附件地址，一般情况下不需要指定，如果自定义对象存储空间，则需在此指定附件资源访问地址
    fileDomain: "",
  	//标题
    title: "Erupt Framework",
  	//描述
    desc: "通用数据管理框架",
	  //是否展示版权信息
	  copyright: true,
    //自定义版权内容，1.12.8及以上版本支持，值可以是方法也可以是字符串
  	copyrightTxt: function() {
      return "版权信息xxxx"
    },
    //高德地图 api key,使用地图组件须指定此属性，amapKey获取地址：https://lbs.amap.com (服务平台为：Web端(JS API))
    amapKey: "xxxx",
    //高德地图 SecurityJsCode
    amapSecurityJsCode: "xxxxx",
  	//logo路径
    logoPath: "erupt.svg",
  	//logo文字
    logoText: "erupt",
  	//注册页地址，会在登录页面增加一个链接 (仅是一个链接，需要自定义实际样式)
  	registerPage: "",
  	//自定义导航栏按钮，配置后将会出现在页面右上角
    r_tools: [{
        text: "自定义功能按钮",
        icon: "fa-eercast",
        mobileHidden: true,
        click: function (event) {
            alert("Function button");
        }
    }],
  	//登录成功事件 1.12.3 及以上版本移动至window.eruptEvent中声明
  	login: function(user){
    
    },
  	//注销事件 1.12.3 及以上版本移动至window.eruptEvent中声明
  	logout: function(user){
    
    }
};

//路由回调函数
window.eruptRouterEvent = {
  	//key表示要监听的路由切换地址，为url hash地址最后一段
  	//例如：http://www.erupt.xyz:9999/#/build/table/demo中demo为回调key
    demo: {
      	//路由载入事件
        load: function (e) {

        },
      	//路由退出事件
        unload: function (e) {
          
        }
    },
  	//$ 为全路径通配符，在任何路由切换时都会执行load与unload事件
    $: {
        load: function (e) {

        },
        unload: function (e) {
        }
    }
};

//erupt生命周期函数
window.eruptEvent = {
  	//页面加载完成后回调
    startup: function () {

    },
  	//登录成功
  	login: function(user){
    
    },
  	//注销事件
  	logout: function(user){
    
    }
}
```



## 前端配置（app.module.js）
文件需手动创建，位置：/resources/public/app.module.js
支持 js 的 module语法，可定义复杂js函数关系



## 前端样式（app.css）
文件需手动创建，位置：/resources/public/app.css
可通过app.css覆盖页面原有样式，或定义新的样式。
```css
/* 例：修改登录页样式 */
layout-passport > .container {
    background-position: center !important;
    background-repeat: repeat !important;
    background-size: cover !important;
    background-color: #fff !important;
    background-image: url(https://www.erupt.xyz/demo/login-bg.svg) !important;
}
```



## 自定义首页（home.html）
文件需手动创建，位置：/resources/public/home.html
定义html标签，给空荡的首页焕发光彩
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
	<h1>Hello World</h1>
</body>
</html>
```



> 原文: <https://www.yuque.com/erupt/gtp7iw>